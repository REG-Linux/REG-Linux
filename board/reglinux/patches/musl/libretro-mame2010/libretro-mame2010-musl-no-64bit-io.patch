--- a/Makefile	2025-08-28 15:36:03.959713410 +0200
+++ b/Makefile	2025-08-28 15:36:23.392579780 +0200
@@ -390,7 +390,7 @@
 	-fno-unwind-tables -fno-asynchronous-unwind-tables -fno-unroll-loops \
 	-fmerge-all-constants -fno-math-errno \
 	-marm -mtune=cortex-a7 -mfpu=neon-vfpv4 -mfloat-abi=hard
-	CCOMFLAGS += -fomit-frame-pointer -ffast-math -fsigned-char
+	CCOMFLAGS += -DSDLMAME_NO64BITIO -fomit-frame-pointer -ffast-math -fsigned-char
 	ARM_ENABLED = 1
 	X86_SH2DRC = 0
 	PTR64 = 0
--- a/Makefile	2025-08-28 16:22:54.528528492 +0200
+++ b/Makefile	2025-08-28 16:19:21.135733953 +0200
@@ -379,11 +379,12 @@
 # NESC, SNESC, C64 mini 
 else ifeq ($(platform), classic_armv7_a7)
 	TARGETLIB := $(TARGET_NAME)_libretro.so
-	SHARED := -shared -Wl,--no-undefined
+	SHARED := -shared -Wl,--version-script=src/osd/retro/link.T
 	fpic = -fPIC
 	LD = $(CC)
+	LDFLAGS += $(SHARED)
 	CCOMFLAGS += -Ofast \
-	-flto=4 -fwhole-program -fuse-linker-plugin \
+	-flto=auto -fwhole-program -fuse-linker-plugin \
 	-fdata-sections -ffunction-sections -Wl,--gc-sections \
 	-fno-stack-protector -fno-ident -fomit-frame-pointer \
 	-falign-functions=1 -falign-jumps=1 -falign-loops=1 \
--- a/Makefile	2025-08-30 23:23:05.741128930 +0200
+++ b/Makefile	2025-08-30 23:23:23.745625825 +0200
@@ -456,7 +456,7 @@
    FORCE_DRC_C_BACKEND = 1
 
    ifneq (,$(findstring rpi2, $(platform)))
-	CCOMFLAGS += -marm -mcpu=cortex-a7 -mfpu=neon-vfpv4 -mfloat-abi=hard
+	CCOMFLAGS += -DSDLMAME_NO64BITIO -marm -mcpu=cortex-a7 -mfpu=neon-vfpv4 -mfloat-abi=hard
    else ifneq (,$(findstring rpi3, $(platform)))
 	   ifneq (,$(findstring rpi3_64,$(platform)))
          CCOMFLAGS += -mcpu=cortex-a53 -mtune=cortex-a53
@@ -478,6 +478,7 @@
    LDFLAGS +=  $(SHARED)
    ARM_ENABLED = 1
    X86_SH2DRC = 0
+   CCOMFLAGS += -DSDLMAME_NO64BITIO
 ifneq (,$(findstring cortexa8,$(platform)))
    CCOMFLAGS += -marm -mcpu=cortex-a8
    ASFLAGS += -mcpu=cortex-a8
