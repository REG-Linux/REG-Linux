diff --git a/package/bcc/Config.in b/package/bcc/Config.in
index bf46f07d93..b230f26836 100644
--- a/package/bcc/Config.in
+++ b/package/bcc/Config.in
@@ -9,12 +9,13 @@ config BR2_PACKAGE_BCC
 	depends on BR2_USE_WCHAR # clang, python3
 	depends on BR2_TOOLCHAIN_HAS_THREADS # clang, python3
 	depends on !BR2_STATIC_LIBS # clang, python3
-	select BR2_PACKAGE_CLANG
 	select BR2_PACKAGE_ELFUTILS
 	select BR2_PACKAGE_FLEX # needs FlexLexer.h
 	select BR2_PACKAGE_HOST_ZIP
-	select BR2_PACKAGE_LLVM
-	select BR2_PACKAGE_LLVM_BPF
+	select BR2_PACKAGE_REGLINUX_LLVM        if BR2_PACKAGE_REGLINUX_LLVM_BUILD_FROM_SOURCE != "y"
+	select BR2_PACKAGE_LLVM                 if !BR2_PACKAGE_REGLINUX_LLVM
+	select BR2_PACKAGE_LLVM_BPF             if !BR2_PACKAGE_REGLINUX_LLVM
+	select BR2_PACKAGE_CLANG                if !BR2_PACKAGE_REGLINUX_LLVM
 	select BR2_PACKAGE_PYTHON3
 	help
 	  BPF Compiler Collection (BCC)
